(function(){function m(a,e){a.prototype=Object.create(e.prototype);a.prototype.constructor=a}function n(a,e,k){Object.defineProperty(a,e,{get:k,set:function(){throw Error("Setting a read-only property: "+this.b);}.bind({b:e})})}function p(a,e){Object.defineProperty(a,"propagating",{get:e,set:function(){throw Error("Setting a read-only property: "+this.b);}.bind({b:"propagating"})})}
function y(a,e,k){Object.defineProperty(a,e,{get:function(){return k},set:function(){throw Error("Setting a read-only property: "+this.b);}.bind({b:e})})}function BotanEvent(a,e){var k=!1,l=!1;y(this,"propagate",function(){l||(k=!0);l=!0});y(this,"stopPropagating",function(){k=!1});y(this,"type",a);p(this,function(){return k});y(this,"data",e);this.setTarget=function(a){y(this,"target",a);this.setTarget=void 0}.bind(this)}
function C(){function a(){this.Z.propagate();for(var a in this.stack)if(this.Z.propagating)this.stack[a](this.Z);this.Z.stopPropagating()}function e(a){k[a]||(k[a]=[]);return k[a]}var k={},l=this;this.addEventListener=function(a,f){var c=e(a);c[c.length]=f};this.removeEventListener=function(a,f){var c=e(a),d=c.indexOf(f);0>d||delete c[d]};this.dispatchEvent=function(g){var f=e(g.type);g.setTarget&&g.setTarget(l);setTimeout(a.bind({Z:g,stack:f}),0)}}function E(){C.call(this)}E.prototype=[];
var F={},G={},I={},J=window.BotanJS,BotanJS=null,K=null,L=null;J&&(BotanJS=J.sg[0],K=J.sg[1],L=J.sg[2]);BotanJS=BotanJS||function(){var a=0,e=[],k=[],l=new C,g={write:function(f){e[e.length]=f}};y(g,"read",function(){return e[a++]});y(g,"end",function(){return e.length<=a});y(l,"log",g);y(l,"define",function(f){k[k.length]=f});y(l,"getDef",function(){return k.slice()});return l}();
K=K||function(a){if(G[a])return G[a];for(var e=a.split("."),k=e.length,l=F,g=0;g<k;g++)l[e[g]]=l[e[g]]||{},l=l[e[g]];l.Ea=[];nsObj=new E;nsObj[1]=function(f,c,d){this.k[c]||(this.k[c]=[f,d],f=new BotanEvent("NS_EXPORT",{name:this.J+"."+c,type:f}),BotanJS.dispatchEvent(f))}.bind({k:l,J:a});nsObj[0]=function(f){if(!this.k[f])throw Error("["+this.J+"] Invoke failed: "+f+" does not exists");return this.k[f][1]}.bind({k:l,J:a});nsObj[10]=function(f,c){this.Ea[f]=c}.bind(l);nsObj[11]=function(f,c){throw Error("["+
this.J+(c?"."+c:"")+"] "+f);}.bind({J:a});BotanJS.dispatchEvent(new BotanEvent("NS_INIT",a));return G[a]=nsObj};
L=L||function(a,e){var k=a.replace(".*","");G[k]&&G[k].dispatchEvent(new BotanEvent("NS_IMPORT",f));if(!e&&I[a])return I[a];for(var l=a.split("."),g=l.length,f=F,k=!1,c=0;c<g;c++){if("*"==l[c]){k=!0;break}f=f[l[c]];if(!f)throw Error("No such class: "+a);}if(f instanceof Array&&"*"!=l[c])return k=null,k=10==f[0]?f[1]():f[1],I[a]=k;l={};for(c in f)g=f[c],g instanceof Array&&(k&&2==g[0]?l[c]=g[1]:3==g[0]?l[c]=g[1]:0==g[0]?Object.defineProperty(l,c,{get:function(){return this.k[this.b][1]}.bind({b:c,
k:f}),set:function(){throw Error("Setting a read-only property: "+this.b);}.bind({b:c})}):1==g[0]?Object.defineProperty(l,c,{get:function(){return this.k[this.b][1]()}.bind({b:c,k:f}),set:function(c){this.k[this.b][1](c)}.bind({b:c,k:f})}):10==g[0]&&Object.defineProperty(l,c,{get:g[1],set:function(){throw Error("Setting a read-only property: "+this.b);}.bind({b:c})}));return I[a]=l};window.BotanJS={};window.BotanJS.version="0.2";window.BotanJS.codename="Botanical framework.js";
window.BotanJS["import"]=function(a){try{return L(a)}catch(e){if(J)return J["import"](a);throw e;}};window.BotanJS.sg=[BotanJS,K,L];BotanJS.define("System.utils.IKey");
(function(){function a(k,l){k&&"string"!=typeof k||(this.keyName=k,this.keyValue=l instanceof a?l:void 0!=l?String(l):"",this.keyName=this.keyName,this.keyValue=this.keyValue)}var e=K("System.utils");a.prototype.keyName="";a.prototype.keyValue="";y(a,"quickDef",function(){var k=arguments.length;if(0!=k%2)e[11]("Invalid Definition Count","IKey");for(var l=[],g=0;g<k;g+=2)l[l.length]=new a(arguments[g],arguments[g+1]);return l});e[1](2,"IKey",a)})();BotanJS.define("System.utils.Perf");
(function(){for(var a=K("System.utils.Perf"),e=[],k=0;256>k;k++)e[k]=(16>k?"0":"")+k.toString(16);a[1](10,"uuid",function(){var a=4294967295*Math.random()|0,g=4294967295*Math.random()|0,f=4294967295*Math.random()|0,c=4294967295*Math.random()|0;return e[a&255]+e[a>>8&255]+e[a>>16&255]+e[a>>24&255]+"-"+e[g&255]+e[g>>8&255]+"-"+e[g>>16&15|64]+e[g>>24&255]+"-"+e[f&63|128]+e[f>>8&255]+"-"+e[f>>16&255]+e[f>>24&255]+e[c&255]+e[c>>8&255]+e[c>>16&255]+e[c>>24&255]});a[1](3,"CountSubstr",function(a,g){if(0>=
g.length)return a.length+1;for(var f=0,c=a.indexOf(g);0<=c;c=a.indexOf(g,c))f++,c++;return f});a[1](3,"ArrayReverse",function(a){for(var g=null,f=a.length,c=null,g=0,c=f-1;g<c;g+=1,--c){var f=a[g],d=a[c],f=f^d,d=d^f,f=f^d;a[g]=f;a[c]=d}})})();BotanJS.define("System.Global");
(function(){var a=K("System.Global"),e=Boolean(document.all),k=window.allowed_origins||[],l=window.location.href.match(/^https:\/\//);a[1](10,"debug",function(){return window.debugEnv&&window.debugEnv});a[1](0,"IE",e);a[1](0,"ALLOWED_ORIGINS",k);a[1](0,"SECURE_HTTP",l)})();BotanJS.define("Dandelion");
(function(){function a(){if(h)return!0;try{return h=L("Dandelion.IDOMElement"),!0}catch(b){}return!1}function e(b,c){if(c&&a()){for(var d=b.length,f=[],u=0;u<d;u++)f[u]=h(b[u]);return f}return b}function k(b,c){b&&c(b)&&b.parentNode&&k(b.parentNode,c)}function l(b,c){return c(b)?b:b.parentNode&&l(b.parentNode,c)}function g(b){return document.createTextNode(b)}function f(d,f,a,h,g){d=document.createElement(d||"div");f&&(d.id=f);a&&(b?d.className=a:d.setAttribute("class",a));if(g)if(g instanceof Array)for(var k in g)d.setAttribute(g[k].keyName,
g[k].keyValue);else g instanceof u&&d.setAttribute(g.keyName,g.keyValue);h&&c(d,h);return d}function c(b,d){if(d instanceof Array)for(var f=d.length,a=0;a<f;a++)d[a]&&c(b,d[a]);else"string"==typeof d?b.appendChild(g(d)):d&&b.appendChild(d)}var d=K("Dandelion"),b=L("System.Global.IE"),u=L("System.utils.IKey"),h;d[1](3,"wrap",f);d[1](3,"wrapc",function(b,d,c){return f(!1,!1,b,d,c)});d[1](3,"wrape",function(b,d){return f(!1,!1,!1,b,d)});d[1](3,"wrapne",function(b,d,c){return f(b,!1,!1,d,c)});d[1](3,
"wrapna",function(b,d){return f(b,!1,!1,!1,d)});d[1](3,"textNode",g);d[1](3,"bubbleUp",l);d[1](3,"chainUpApply",k);d[1](3,"id",function(b,d){var c=document.getElementById(b);return c?d&&a()?h(c):c:c});d[1](3,"tag",function(b,d,c){c=void 0===c?document:c;return e(c.getElementsByTagName(b),d)});d[1](3,"name",function(b,d,c){c=void 0===c?document:c;return e(c.getElementsByName(b),d)});d[1](3,"glass",function(b,c,d){d=void 0===d?document:d;return e(d.getElementsByClassName(b),c)})})();BotanJS.define("System.utils.EventKey");
(function(){function a(a,g){k.call(this,a,g);this.type=a.toLowerCase();this.handler=g}var e=K("System.utils"),k=e[0]("IKey");m(a,k);a.prototype.type="";a.prototype.handler=null;e[1](2,"EventKey",a)})();BotanJS.define("Dandelion.IDOMObject");
(function(){function a(g,f){if(g instanceof a)return g;if(f)this.addEventListener=this.addEventListener.bind(g),this.addEventListeners=this.addEventListeners.bind(this),this.hasListener=this.hasListener.bind(g),this.removeEventListener=this.removeEventListener.bind(g);else{if(g)return new a(g,!0);throw Error("[Dandelion.IDOMObject] Invalid argument");}}function e(){}var k=K("Dandelion"),l=L("System.utils.EventKey");e.prototype.indexOf=function(a){for(var f=this.length,c=0;c<f;c++){var d=this[c];if(d.type==
a.type&&d.handler==a.handler)return c}return-1};m(e,Array);a.prototype.hasListener=function(a){return a instanceof l&&this.j&&-1!=this.j.indexOf(a)?this.j[this.j.indexOf(a)]:null};a.prototype.addEventListener=function(a,f){var c;if("string"==typeof a&&f)c=new l(a,f);else if(a instanceof l)c=a;else return!1;if(this.j)if(0>this.j.indexOf(c))this.j.push(c);else return!1;else this.j=new e,this.j[0]=c;this.addEventListener?this.addEventListener(c.type,c.handler,!1):this.attachEvent?this.attachEvent("on"+
c.type,c.handler):this["on"+c.type]=c.handler;return!0};a.prototype.addEventListeners=function(a){if(a instanceof Array)for(var f in a)this.addEventListener(a[f])};a.prototype.removeEventListener=function(a,f){f&&(a=new l(a,f));this.j&&delete this.j[this.j.indexOf(a)];this.removeEventListener?this.removeEventListener(a.type,a.handler):this.detachEvent?this.detachEvent("on"+a.type,a.handler):this["on"+a.type]=null};k[1](2,"IDOMObject",a)})();BotanJS.define("Dandelion.IDOMElement");
(function(){function a(b){b=typeof b;return"number"==b?k:"string"==b?e:l}function e(b,d){return b.nodeName==d}function k(b,d){return b.nodeType==d}function l(){return!1}function g(c,a){if(c instanceof g)return c;if(a)b.call(this,c,!0),this.getDAttribute=this.getDAttribute.bind(c),this.lootChildren=this.lootChildren.bind(c),this.foreach=this.foreach.bind(c),this.reverseChild=this.reverseChild.bind(c),this.first=this.first.bind(c),this.last=this.last.bind(c),this.contains=this.contains.bind(c),this.style=
c.style,this.hasAttribute=function(){}.bind(c),this.removeAttribute=function(b){this.removeAttribute(b)}.bind(c),this.element=c,this.setAttribute=this.setAttribute.bind(c);else{if(c&&void 0!=c.nodeType&&1==c.nodeType)return new g(c,!0);if(void 0===c)return new g(d(),!0);throw Error("[Dandelion.IDOMElement] Invalid argument");}return this}var f=K("Dandelion"),c=L("System.utils.IKey");L("System.utils.Perf");var d=f[0]("wrap"),b=f[0]("IDOMObject");m(g,b);g.prototype.setAttribute=function(b,d){if(b instanceof
c)this.setAttribute(b.keyName,b.keyValue);else if(b instanceof Array)for(var a in b)b[a]instanceof c&&this.setAttribute(b[a].keyName,b[a].keyValue);else this.setAttribute(b,d)};g.prototype.lootChildren=function(b){for(var c=b.childNodes;c.length;)this.appendChild(b.removeChild(c[0]))};g.prototype.getDAttribute=function(b){return(b=this.getAttribute("data-"+b))&&decodeURIComponent(b)};g.prototype.foreach=function(b,c){for(var d=Array.apply([],this.childNodes),a=d.length,f=0;f<a;f++)d[f].nodeType==
b&&c(d[f],this)};g.prototype.first=function(b,c){for(var d=this.childNodes,f=d.length,k=null,g=a(b),l=0;l<f;l++)if(g(d[l],b)&&(void 0===c||c(d[l],this))){k=d[l];break}return k};g.prototype.last=function(b,c){for(var d=this.childNodes,f=null,k=a(b),g=d.length-1;-1<g;g--)if(k(d[g],b)&&(void 0===c||c(d[g],this))){f=d[g];break}return f};g.prototype.contains=function(b){return b.parentElement?b==this?!0:this.contains(b.parentElement):!1};g.prototype.aKeys=function(){for(var b=[],d=this.element.attributes,
f=d.length,a=0;a<f;a++)b.push(new c(d[a].name,d[a].value));return b};g.prototype.reverseChild=function(){for(var b=this.childNodes.length-1;-1<--b;)this.appendChild(this.childNodes[b])};f[1](2,"IDOMElement",g)})();BotanJS.define("System.utils.DataKey");(function(){function a(a,g){k.call(this,"data-"+a,g?encodeURIComponent(String(g)):"")}var e=K("System.utils"),k=e[0]("IKey");m(a,k);e[1](2,"DataKey",a)})();BotanJS.define("System.utils");
(function(){var a=K("System.utils"),e=L("System.Global");a[1](3,"objGetProp",function(a,l,g){if(a&&a[l]){var f=a[l].constructor.toString().match(/function ([^\(]+)/);if(f&&2==f.length&&f[1].toUpperCase()==g.toUpperCase())return a[l]}return null});a[1](3,"objSearch",function(a,l,g){for(var f in a)if(l(a[f]))return a[f][g]||a[f];return null});a[1](3,"objMap",function(a,l){for(var g in a)a[g]=l(a[g])});a[1](3,"siteProto",function(a){return a.match(/^https?:\/\//)?e.SECURE_HTTP?a.replace(/^http:\/\//,
"https://"):a.replace(/^https:\/\//,"http://"):"http"+(e.SECURE_HTTP?"s":"")+"://"+a})})();BotanJS.define("System.Tick");
(function(){function a(){var a=0;this.H=!1;this.loop=function(){for(var l in this.steppers)this.steppers[l]();a++};n(this,"count",function(){return a})}var e=K("System");a.prototype.putStepper=function(a){var l=this.steppers.length;this.steppers[l]=a;return l};a.prototype.start=function(){this.H||(this.id=setInterval(this.loop.bind(this),0),this.H=!0)};a.prototype.stop=function(){this.H&&(this.H=!1,clearInterval(this.id))};a.prototype.steppers=[];n(a.prototype,"started",function(){return this.H});
e[1](2,"Tick",a)})();BotanJS.define("System.Log");(function(){var a=K("System.Log"),e=[];a[1](3,"writeLine",function(a,l){l=void 0===l?16:l;var g=!1,f;for(f in e)e[f](a,l),g=!0;!g&&window.console&&console.log&&console.log(a)});a[1](3,"registerHandler",function(a){var l=-1;e[l=e.length]=a;return l});a[1](3,"removeHandler",function(a){delete e[a]});a[1](0,"INFO",16);a[1](0,"ERROR",32);a[1](0,"SYSTEM",1)})();BotanJS.define("System.Debug");
(function(){function a(){l&&k.writeLine(Array.prototype.join.call(arguments," "),k.INFO)}var e=K("System.Debug"),k=L("System.Log"),l=L("System.Global").debug,g=!0;for(BotanJS.log.write=a;!BotanJS.log.end();)a(BotanJS.log.read());e[1](3,"Error",function(a){g&&k.writeLine(a.name+"\n\t"+a.message+"\n\t"+a.stack,k.ERROR)});e[1](3,"Info",a);e[1](3,"turnOff",function(a){"info"==a?l=!1:"error"==a&&(g=!1)});e[1](3,"turnOn",function(a){"info"==a?l=!0:"error"==a&&(g=!0)})})();BotanJS.define("System.Cycle");
(function(){function a(c){c.target.removeEventListener("NS_IMPORT",a);c=L("System.Cycle.TICK",!0);c!=f&&c.Xa?(l.Info("[System.Cycle] Global Tick exists"),f=null):(l.Info("[System.Cycle] Creating global Tick"),f.start())}var e=K("System.Cycle");L("System.utils");var k=L("System.Tick"),l=L("System.Debug"),g=[],f=new k;f.putStepper(function(){var c=(new Date).getTime(),d;for(d in g){var b=g[d];if(b&&c>b[1]){try{b[0]()}catch(a){l.Error(a);delete g[d];continue}b[2]?delete g[d]:b[1]=c+b[4]}}});e.addEventListener("NS_IMPORT",
a);e[1](3,"next",function(c){g[g.length]=[c,0,!0]});e[1](3,"delay",function(c,d){g[g.length]=[c,(new Date).getTime()+d,!0]});e[1](3,"perma",function(c,d,b){for(var a in g)if(g[a][3]==c)return!1;g[g.length]=[d,(new Date).getTime()+b,!1,c,b]});e[1](3,"permaRemove",function(c){for(var d in g)g[d][3]==c&&delete g[d]});e[1](10,"TICK",function(){return f})})();BotanJS.define("Components.Vim.State.Registers");
(function(){function a(){this.S={}}function e(a,g){this.da=a+"";this.newLine=Boolean(g)}var k=K("Components.Vim.State");e.prototype.newLine=!1;e.prototype.toString=function(){return this.da};e.prototype.indexOf=function(a,g){return this.da.indexOf(a,g)};n(e.prototype,"length",function(){return this.da.length});a.prototype.Aa=function(a){this.S['"']=a};a.prototype.yank=function(a,g){var f=new e(a,g);this.Aa(f);this.S[0]=f};a.prototype.change=function(a,g){var f=new e(a,g);this.Aa(f);for(var c=this.S,
d=9;1<d;d--)void 0!=c[d-1]&&(c[d]=c[d-1]);c[1]=f};a.prototype.get=function(a){a||0===a||(a='"');return this.S[a]};k[1](2,"Registers",a)})();BotanJS.define("Components.Vim.Syntax.Word");
(function(){function a(a){a:{a=a.charCodeAt(0);for(var f=0;f<l;f++)for(var c=k[f],d=c.length,b=0;b<d;b++){var u=c[b];if(u[0]<=a&&a<=u[1]){a=c;break a}}a=[]}this.Ta=a}var e=K("Components.Vim.Syntax"),k=[[[48,57]],[[65,90],[97,122],[192,255],[256,383],[384,591],[7424,7551],[7552,7615],[7616,7679],[7680,7935],[7936,8191]],[[592,687],[688,767],[768,879],[880,1023],[1024,1279],[1280,1327],[1328,1423]],[[1424,1535],[1536,1791],[1792,1871],[1872,1919],[1920,1983],[1984,2047],[2048,2111],[2112,2143],[2208,
2303]],[[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3456,3583],[3584,3711],[3712,3839],[3840,4095],[4096,4255],[4256,4351],[4352,4607],[4608,4991],[4992,5023],[5024,5119],[5120,5759],[5760,5791],[5792,5887]],[[5888,5919],[5920,5951],[5952,5983],[5984,6015],[6016,6143],[6144,6319],[6320,6399],[6400,6479]],[[6480,6527],[6528,6623],[6624,6655],[6656,6687],[6688,6831],[6832,6911],[6912,7039],[7040,7103],[7104,7167],[7168,7247],[7248,7295],
[7360,7375],[7376,7423]],[[8192,8303],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703],[8704,8959],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[10176,10223],[10224,10239],[10240,10495],[10496,10623],[10624,10751],[10752,11007],[11008,11263],[11264,11359],[11360,11391],[11392,11519],[11520,11567],[11568,11647],[11648,11743],[11744,11775],[11776,11903]],[[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12352,
12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12736,12783],[12784,12799],[12800,13055],[13056,13311],[13312,19903],[19904,19967],[19968,40959],[40960,42127],[42128,42191],[42192,42239],[42240,42559],[42560,42655],[42656,42751],[42752,42783],[42784,43007],[43008,43055],[43056,43071],[43072,43135],[43136,43231],[43232,43263],[43264,43311],[43312,43359],[43360,43391],[43392,43487],[43488,43519],[43520,43615],[43616,43647],[43648,43743],[43744,43775],[43776,43823],[43824,
43887],[43888,43967],[43968,44031],[44032,55215],[55216,55295]],[[55296,56319],[56320,57343],[57344,63743],[63744,64255],[64256,64335],[64336,65023],[65024,65039],[65040,65055],[65056,65071],[65072,65103],[65104,65135],[65136,65279],[65280,65519],[65520,65535]],[[33,47],[58,64],[91,96],[123,126],[161,172],[174,191]]],l=k.length;a.prototype.test=function(a){if(void 0==a||null==a||!a.charCodeAt)return!1;var f=this.Ta,c=f.length;a=a.charCodeAt(0);for(var d=0;d<c;d++){var b=f[d];if(b[0]<=a&&a<=b[1])return!0}return!1};
e[1](2,"Word",a)})();BotanJS.define("Components.Vim.Syntax.Analyzer");
(function(){function a(){this.pa=this.xa=this.M=this.R=-1;this.ta=null}function e(a){this.N=a;this.V={}}function k(c,b){if(!b)throw Error("Parent not found");var f=new a;f.pa=b[2];f.R=b[0];f.M=b[1];if(-1<b[3]){var h=c.find(b[3]);f.ta=k(c,h)}return f}function l(a,b){for(var c=b.length,h=a.split("\n"),g=h[0],h=h[1],k=[],l=[],e=0,t=[],w=g.length,A=h.length,z=0;z<c;z++){var H=b.substr(z,A);if(b.substr(z,w)==g)k[e]=z,e++,z+=w-1;else if(H==h){H=z;if(0==e)l.push(H);else{var v=[];v[0]=k[--e];v[1]=H;v[2]=
e;v[3]=0<e?k[e-1]:-1;t.push(v)}z+=A-1}}l.length&&f.Info('Unmatched opening "'+g+'"@'+l.join(", "));0<e&&f.Info('Unmatched closing "'+h+'"@'+k.slice(0,e));this.ra=t}var g=K("Components.Vim.Syntax"),f=L("System.Debug"),c=g[0]("Word");l.prototype.find=function(a,b){void 0==b&&(b=0);for(var c=this.ra,f=c.length,g=0;g<f;g++){var k=c[g];if(k[b]==a)return k}return null};e.prototype.bracketAt=function(c){var b=this.N.content,f=1,h=null,g=b[c];switch(g){case "{":f=0;case "}":h=this.B("{\n}");break;case "[":f=
0;case "]":h=this.B("[\n]");break;case "(":f=0;case ")":h=this.B("(\n)");break;case "/":if("*"==b[c-1]){g="*/";c--;break}else if("*"==b[c+1]){g="/*";break}return new a;case "*":if("/"==b[c-1]){g="/*";c--;break}else if("/"==b[c+1]){g="*/";break}return new a;default:return new a}if(!h)switch(g){case "/*":f=0;case "*/":h=this.B("/*\n*/");break;default:return new a}b=h.find(c,f);h=k(h,b);h.xa=c;return h};e.prototype.bracketIn=function(c,b){var f="{[(".indexOf(c);0>f&&(f="}])".indexOf(c));if(0>f)throw Error("Unsupported bracket: "+
c);for(var h=this.B("{[("[f]+"\n"+"}])"[f]),g=h.ra,l=g.length,e=null,f=0;f<l;f++){var s=g[f];s[0]<=b&&b<=s[1]&&(e&&e[2]<s[2]||!e)&&(e=s)}if(e){h=f=k(h,e);do h.R++,h.M--;while(h=h.parent);return f}return new a};e.prototype.B=function(c){if(this.V[c])return this.V[c];var b=new l(c,this.N.content);return this.V[c]=b};e.prototype.reset=function(){this.V={}};e.prototype.quoteAt=function(c){switch(this.N.content[c]){default:return{level:0,open:-1,close:-1}}};e.prototype.wordAt=function(d){var b=this.N.content,
f=b.length,h=d,g=d,k=new c(b[d]);if(0<d)for(;k.test(b[--h]););if(d<f)for(;k.test(b[++g]););d=new a;d.R=0<h?h+1:0;d.M=g-1;return d};n(a.prototype,"parent",function(){return this.ta});n(a.prototype,"open",function(){return this.R});n(a.prototype,"close",function(){return this.M});n(a.prototype,"level",function(){return this.pa});n(a.prototype,"selected",function(){return this.xa});g[1](2,"Analyzer",e);g[1](2,"TokenMatch",a)})();BotanJS.define("Components.Vim.LineBuffer");
(function(){function a(a,g){this.prev=null;this.cols=a;this.next=g;this.br=!1;this.placeholder=!0;this.lineNum=0;this.tabWidth=8;g&&(g.prev=this)}var e=K("Components.Vim");L("System.Debug");var k=L("System.utils.Perf.CountSubstr");a.prototype.K=function(a,g,f){this.lineNum=f;if(void 0==a||""===a)this.lineNum=++f,this.content="~",this.placeholder=this.br=!0,this.next&&this.next.K(a,g,f+1);else{this.placeholder=!1;var c="",d=!1,b=0,k=0,h=this.tabWidth-1;if(g){for(;b<this.cols-k*h;b++){var e=a[b];if(void 0===
e)break;if("\n"==e){d=!0;b++;break}else"\t"==e&&k++;c+=e}d||b!=this.cols||"\n"!=a[b]||(b++,d=!0)}else for(d=!0;;b++){e=a[b];if(void 0===e)break;if("\n"==e){b++;break}else"\t"==e&&k++;b<this.cols-k*h&&(c+=e)}this.next&&(this.next.br=d,this.next.K(a.substr(b),g,d?f+1:f));this.content=c}};a.prototype.toString=function(){var a=this.cols-k(this.content,"\t")*(this.tabWidth-1);return this.content.length<a?this.content+" ":this.content||" "};n(a.prototype,"nextLine",function(){for(var a=this,g=this.lineNum;(a=
a.next)&&a.lineNum==g;);return a});n(a.prototype,"visualLines",function(){for(var a=[this],g=this;(g=g.next)&&!g.br;)a.push(g);return a});e[1](2,"LineBuffer",a)})();BotanJS.define("Components.Vim.State.Recorder");
(function(){function a(){this.I=[];this.Na=[];this.na=this.e=0}var e=K("Components.Vim.State");a.prototype.undo=function(){var a=this.e-1;return-1!=a&&this.I.length?this.I[this.e=a]:null};a.prototype.redo=function(){var a=this.I[this.e];return a?(this.e++,a):null};a.prototype.record=function(a){this.I[this.e++]=a;this.Na[this.na++]=a;delete this.I[this.e];a.id=this.na};e[1](2,"Recorder",a)})();BotanJS.define("Components.Vim");
(function(){function a(a,c,d){if(void 0==a[c])return c;var b=0;return a[c].replace(/%\d+/g,function(){return d[b++]})}var e=K("Components.Vim"),k={INSERT:"-- INSERT --",REPLACE:"-- REPLACE --",MORE:"-- MORE --",VISUAL:"-- VISUAL  --",VISLINE:"-- VISUAL LINE --",WRITE:'"%1" %2L, %3C written',CONTINUE:"Press ENTER or type command to continue",SEARCH_HIT_BOTTOM:"Seach hit BOTTOM, contining at TOP",TOP:"Top",BOTTOM:"Bot",ALL:"All",EXIT:"Type :quit<Enter>  to exit Vim",UNDO_LIMIT:"Already at oldest change",
REDO_LIMIT:"Already at newest change",LINES_FEWER:"%1 fewer line(s)",LINES_MORE:"%1 more line(s)",LINES_YANKED:"%1 line(s) yanked",SEARCH_HIT_BOTTOM:"search hit BOTTOM, continuing at TOP",SEARCH_HIT_TOP:"search hit TOP, continuing at BOTTOM"},l={E486:"E486: Pattern not found: %1"},g=new Audio("data:audio/ogg;base64,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");
e[1](3,"Message",function(f){return a(k,f,Array.prototype.slice.call(arguments,1))});e[1](3,"Error",function(f){return a(l,f,Array.prototype.slice.call(arguments,1))});e[1](3,"Beep",function(){setTimeout(function(){g.pause();g.currentTime=0;g.play()},0)})})();BotanJS.define("Components.Vim.Actions.YANK");
(function(){function a(a){this.a=a;this.i=a.aPos;this.c="";a.suppressEvent()}var e=K("Components.Vim.Actions");L("System.Debug");var k=L("Components.Vim.Message"),l=L("Components.Vim.Beep"),g=L("System.utils.Perf.CountSubstr");a.prototype.allowMovement=!0;a.prototype.dispose=function(){this.a.unsuppressEvent()};a.prototype.handler=function(a,c){a.preventDefault();if(!a.ModKeys&&!a.kMap("i")){var d=a.target.ea,b=this.a,e=!1,h=!1;if(void 0==c){e=!0;c=this.i;var q=b.aPos;if(this.i!=q)a.kMap("^")?c--:
a.kMap("l")?b.moveX(-1):a.kMap("h")?c=q:a.kMap("j")?(h=!0,b.lineEnd(!0),c=b.aPos,b.moveY(-1),b.lineStart(),this.i=b.aPos):a.kMap("k")?(h=!0,b.moveY(1),b.lineEnd(!0),c=b.aPos,b.moveY(-1),b.lineStart()):this.i<q&&(c=q,b.moveTo(this.i));else if(a.kMap("y"))h=!0,b.lineEnd(!0),c=b.aPos,b.lineStart();else if(a.range)c=a.range.close,b.moveTo(a.range.open,!0);else{if(a.kMap("^"))return!0;if(a.kMap("$"))c=b.aPos;else return l(),!0}}q=c;a=b.aPos;a<q&&(q=b.aPos,a=c);b.moveTo(q);b=b.feeder.content.substring(q,
a+1);d.yank(b,h);if(d=g(b,"\n"))this.c=k("LINES_YANKED",d);return e}};a.prototype.getMessage=function(){return this.c};e[1](2,"YANK",a)})();BotanJS.define("Components.Vim.State.Stator");
(function(){function a(a,e){this.a=a;this.Oa=void 0==e?a.aPos:e;this.Pa=this.wa()}var e=K("Components.Vim.State");a.prototype.save=function(a,e){var g=this.a,f=g.feeder,c=this.Oa;0>a&&(c+=a,a=0);var d=this.Pa,b=this.wa(),u=d;return function(){var h=f.content.substr(c,a);f.content=f.content.substring(0,c)+e+f.content.substring(c+a);a=e.length;e=h;g.PStart=u.b;g.PEnd=u.b+1;g.X=u.x;g.Y=u.y;f.panX=u.Ua;f.panY=u.Va;f.pan();u=u==d?b:d}};a.prototype.wa=function(){var a=this.a,a={b:a.PStart,x:a.X,y:a.Y,Ua:a.feeder.panX,
Va:a.feeder.panY};0<a.x&&(--a.b,--a.x);return a};e[1](2,"Stator",a)})();BotanJS.define("Components.Vim.DateTime.String");
(function(){function a(a,e,g){if(void 0==a[e])return e;var f=0;return a[e].replace(/%\d+/g,function(){return g[f++]})}var e={AboutAMinuteAgo:"about a minute ago",AboutAMonthAgo:"about a month ago",AboutAnHourAgo:"about an hour ago",AboutAWeekAgo:"about a week ago","last Friday":"last Friday","last Monday":"last Monday","last Saturday":"last Saturday","last Sunday":"last Sunday","last Thursday":"last Thursday","last Tuesday":"last Tuesday","last Wednesday":"last Wednesday","on Friday":"on Friday",
"on Monday":"on Monday","on Saturday":"on Saturday","on Sunday":"on Sunday","on Thursday":"on Thursday","on Tuesday":"on Tuesday","on Wednesday":"on Wednesday",OverAYearAgo:"over a year ago",XHoursAgo_2To4:"%1 hours ago",XHoursAgo_EndsIn1Not11:"%1 hours ago",XHoursAgo_EndsIn2To4Not12To14:"%1 hours ago",XHoursAgo_Other:"%1 hours ago",XMinutesAgo_2To4:"%1 minutes ago",XMinutesAgo_EndsIn1Not11:"%1 minutes ago",XMinutesAgo_EndsIn2To4Not12To14:"%1 minutes ago",XMinutesAgo_Other:"%1 minutes ago",XMonthsAgo_2To4:"%1 months ago",
XMonthsAgo_5To12:"%1 months ago",XSecondsAgo_2To4:"%1 seconds ago",XSecondsAgo_EndsIn1Not11:"%1 seconds ago",XSecondsAgo_EndsIn2To4Not12To14:"%1 seconds ago",XSecondsAgo_Other:"%1 seconds ago",XWeeksAgo_2To4:"%1 weeks ago"};K("Components.Vim.DateTime")[1](3,"String",function(k){return a(e,k,Array.prototype.slice.call(arguments,1))})})();BotanJS.define("Components.Vim.DateTime");
(function(){function a(a,d){var b=a%10,f=a%100;if(1>=a)throw Error("Invalid number of Time units");return 2<=a&&4>=a?k(d[0],a):1==b&&11!=f?k(d[1],a):2<=b&&4>=b&&!(12<=f&&14>=f)?k(d[2],a):k(d[3],a)}var e=K("Components.Vim.DateTime"),k=e[0]("String"),l=["XHoursAgo_2To4","XHoursAgo_EndsIn1Not11","XHoursAgo_EndsIn2To4Not12To14","XHoursAgo_Other"],g=["XMinutesAgo_2To4","XMinutesAgo_EndsIn1Not11","XMinutesAgo_EndsIn2To4Not12To14","XMinutesAgo_Other"],f=["XSecondsAgo_2To4","XSecondsAgo_EndsIn1Not11","XSecondsAgo_EndsIn2To4Not12To14",
"XSecondsAgo_Other"];e[1](3,"RelativeTime",function(c){var d=Math.round(.001*((new Date).getTime()-c.getTime()));if(31536E3<d)result=k("OverAYearAgo");else if(3952800<d)if(c=Math.round((d+1317600)/2635200),2<=c&&4>=c)result=k("XMonthsAgo_2To4",c);else if(5<=c&&12>=c)result=k("XMonthsAgo_5To12",c);else throw Error("Invalid number of Months");else if(2116800<=d)result=k("AboutAMonthAgo");else if(604800<=d)c=Math.round(d/604800),result=1<c?k("XWeeksAgo_2To4",c):k("AboutAWeekAgo");else{if(432E3<=d)switch(c.getDay()){case 1:c=
k("last Monday");break;case 2:c=k("last Tuesday");break;case 3:c=k("last Wednesday");break;case 4:c=k("last Thursday");break;case 5:c=k("last Friday");break;case 6:c=k("last Saturday");break;case 0:c=k("last Sunday");break;default:c=k("last Sunday")}else if(86400<=d)switch(c.getDay()){case 1:c=k("on Monday");break;case 2:c=k("on Tuesday");break;case 3:c=k("on Wednesday");break;case 4:c=k("on Thursday");break;case 5:c=k("on Friday");break;case 6:c=k("on Saturday");break;case 0:c=k("on Sunday");break;
default:c=k("on Sunday")}else c=7200<=d?a(Math.round(d/3600),l):3600<=d?k("AboutAnHourAgo"):120<=d?a(Math.round(d/60),g):60<=d?k("AboutAMinuteAgo"):a(1<d?d:2,f);result=c}return result})})();BotanJS.define("Components.Vim.State.Stack");
(function(){function a(){}var e=K("Components.Vim.State"),k=L("Components.Vim.DateTime.RelativeTime");a.prototype.store=function(a){this.ma=a;this.Sa=new Date;this.id=0};a.prototype.play=function(){this.ma&&this.ma()};n(a.prototype,"time",function(){return k(this.Sa)});e[1](2,"Stack",a)})();BotanJS.define("Components.Vim.Actions.DELETE");
(function(){function a(a){this.a=a;this.ba=0;this.i=a.aPos;this.sa=this.a.feeder.panY;a.suppressEvent()}var e=K("Components.Vim.Actions");L("System.Debug");var k=L("Components.Vim.State.Stator"),l=L("Components.Vim.State.Stack"),g=L("Components.Vim.Message"),f=L("Components.Vim.Beep"),c=L("System.utils.Perf.CountSubstr");a.prototype.allowMovement=!0;a.prototype.dispose=function(){this.a.unsuppressEvent()};a.prototype.handler=function(a,b){a.preventDefault();if(!a.ModKeys){var g=a.target.ea,h=this.a,
e=h.feeder,x=!1,r=!1;if(void 0==b){x=!0;b=this.i;var s=h.aPos;if(this.i!=s)a.kMap("^")?b--:a.kMap("l")?h.moveX(-1):a.kMap("h")?b=s:a.kMap("j")?(r=!0,h.lineEnd(!0),b=h.aPos,h.moveY(-1),h.lineStart(),this.i=h.aPos):a.kMap("k")?(r=!0,h.moveY(1),h.lineEnd(!0),b=h.aPos,h.moveY(-1),h.lineStart()):this.i<s&&(b=s,h.moveTo(this.i));else if(a.kMap("d"))r=!0,h.lineEnd(!0),b=h.aPos,h.lineStart();else if(a.range)b=a.range.close,h.moveTo(a.range.open,!0);else{if(a.kMap("^"))return!0;if(a.kMap("$"))b=h.aPos;else return f(),
!0}}var t=e.content,w=b;a=h.aPos;a<w&&(w=h.aPos,a=b);s=t.substring(w,a+1);g.change(s,r);this.ba=c(s,"\n");e.content=t.substring(0,w)+t.substring(a+1);e.pan(void 0,this.sa<e.panY?this.sa-e.panY:void 0);h.moveTo(w);var g=new k(h,w),e=new l,A=g.save(0,s);e.store(function(){A();h.moveX(1)});h.rec.record(e);return x}};a.prototype.getMessage=function(){return this.ba?g("LINES_FEWER",this.ba):""};e[1](2,"DELETE",a)})();BotanJS.define("Components.Vim.Actions.VISUAL");
(function(){function a(a){this.va(a);this.c=k("VISUAL");a.blink=!1;a.pSpace=!0}var e=K("Components.Vim.Actions");L("System.Debug");var k=L("Components.Vim.Message"),l=e[0]("YANK"),g=e[0]("DELETE");a.prototype.va=function(a){this.a=a;this.u=a.aPos;this.G=this.ya=a.PStart};a.prototype.allowMovement=!0;a.prototype.dispose=function(){var a=this.a;a.blink=!0;a.pSpace=!1;a.PStart=this.G;a.PEnd=this.G+1;a.feeder.wrap&&0<a.X&&(a.suppressEvent(),a.moveX(-1),a.moveX(1),a.unsuppressEvent())};a.prototype.handler=
function(a){a.preventDefault();if(!a.ModKeys){var c=this.a,d=null;a.kMap("y")?d=new l(c):a.kMap("d")&&(d=new g(c));if(d){c.suppressEvent();if(d.constructor==g&&this.u<c.aPos){var b=c.aPos;c.moveTo(this.u,!0);this.u=b}d.handler(a,this.u);d.constructor!=g&&c.moveTo(this.u);this.c=d.getMessage();d.dispose();c.unsuppressEvent();this.G=c.PStart;return!0}a.range&&(c.suppressEvent(),a=a.range,c.aPos==this.u&&(c.moveTo(a.open,!0),this.va(c)),c.unsuppressEvent(),c.moveTo(a.close,!0));a=this.ya;d=c.PStart;
b=d-a;0<=b?(this.G=d,d+=1):0>b&&(a+=b,d=this.ya+1,this.G=a);c.PStart=a;c.PEnd=d}};a.prototype.getMessage=function(){return this.c};e[1](2,"VISUAL",a)})();BotanJS.define("Components.Vim.Actions.UNDO");
(function(){function a(a){this.a=a;this.q="UNDO COMMAND"}var e=K("Components.Vim.Actions"),k=L("Components.Vim.Message");a.prototype.dispose=function(){};a.prototype.handler=function(a){a.preventDefault();(a=this.a.rec.undo())?(a.play(),this.q="<<TODO>>; before #"+a.id+"  "+a.time):this.q=k("UNDO_LIMIT")};a.prototype.getMessage=function(){return this.q};e[1](2,"UNDO",a)})();BotanJS.define("Components.Vim.Actions.PRINT_HEX");
(function(){function a(a){this.a=a}var e=K("Components.Vim.Actions");L("System.Debug");a.prototype.dispose=function(){};a.prototype.handler=function(a){a.preventDefault();a=unescape(encodeURIComponent(this.a.feeder.content[this.a.aPos]));for(var e=a.length,g=[],f=0;f<e;f++)g[f]="\n"==a[f]?"a":a.charCodeAt(f).toString(16),1==g[f].length?g[f]="0"+g[f]:0==g[f].length&&(g[f]="00");this.c=g.join(" ")};a.prototype.getMessage=function(){return this.c};e[1](2,"PRINT_HEX",a)})();BotanJS.define("Components.Vim.Actions.REDO");
(function(){function a(a){this.a=a;this.q="REDO COMMAND"}var e=K("Components.Vim.Actions"),k=L("Components.Vim.Message");a.prototype.dispose=function(){};a.prototype.handler=function(a){a.preventDefault();(a=this.a.rec.redo())?(a.play(),this.q="<<TODO>>; before #"+a.id+"  "+a.time):this.q=k("REDO_LIMIT")};a.prototype.getMessage=function(){return this.q};e[1](2,"REDO",a)})();BotanJS.define("Components.Vim.Actions.PUT");
(function(){function a(a){this.a=a;this.c="";a.suppressEvent()}var e=K("Components.Vim.Actions"),k=L("Components.Vim.State.Stator"),l=L("Components.Vim.State.Stack"),g=L("Components.Vim.Message"),f=L("System.utils.Perf.CountSubstr");a.prototype.allowMovement=!1;a.prototype.dispose=function(){this.a.unsuppressEvent()};a.prototype.handler=function(a){a.preventDefault();var d=this.a.Vim.ea.get(!1);if(!d)return!0;var b=d.length,e=f(d,"\n"),h=this.a,q=h.feeder,x=d.newLine,r=a.kMap("P")?0:-1;x&&(h.moveY(-r),
h.lineStart());a=new k(h);var s=h.aPos;q.content=q.content.substring(0,s)+d+q.content.substring(s);q.pan();h.moveTo(0<e?s:s+b,!0);d=new l;if(x){var t=a.save(b,"");d.store(function(){t();h.moveY(r)})}else d.store(a.save(b,""));h.rec.record(d);e&&(this.c=g("LINES_MORE",e));h.moveX(-1);return!0};a.prototype.getMessage=function(){return this.c};e[1](2,"PUT",a)})();BotanJS.define("Components.Vim.Actions.INSERT");
(function(){function a(a){this.a=a;this.Qa=new l(a);this.ca("",!0);a=this.a.feeder.firstBuffer.cols;for(var c=g("INSERT"),d=c.length;d<a;d++)c+=" ";this.c=c}var e=K("Components.Vim.Actions"),k=L("Components.Vim.State.Stack"),l=L("Components.Vim.State.Stator");L("System.Debug");var g=L("Components.Vim.Message");a.prototype.allowMovement=!1;a.prototype.dispose=function(){this.c="";this.ca("",!0);this.a.moveX(-1)};a.prototype.ca=function(a,c){if(c||!this.T){if(this.T){if(0==this.s&&""===this.r)return;
this.T.store(this.Qa.save(this.s,this.r));this.a.rec.record(this.T)}this.s=0;this.r="";this.T=new k}this.s+=a.length};a.prototype.Ma=function(a){var c=this.a,d=c.feeder;if(a.kMap("BS")){if(0==c.X&&0==d.panY&&0==c.Y)return;c.moveX(-1,!0,!0);a=c.aPos;0>=this.s&&(this.r=d.content.substr(a,1)+this.r);d.content=d.content.substring(0,a)+d.content.substring(a+1);this.s--}else if(a.kMap("Del"))a=c.aPos,this.r+=d.content.substr(a,1),d.content=d.content.substring(0,a)+d.content.substring(a+1);else return;d.pan();
d.dispatcher.dispatchEvent(new BotanEvent("VisualUpdate"))};a.prototype.handler=function(a){a.preventDefault();var c;a:switch(c=a.key,c){case "Tab":c="\t";break a;case "Enter":c="\n";break a}if(1!=c.length)this.Ma(a);else{a=this.a;var d=a.feeder,b=a.aPos;d.content=d.content.substring(0,b)+c+d.content.substring(b);"\n"==c?(d.softReset(),d.pan(),a.moveY(1),a.lineStart()):(d.pan(),a.moveX(1,!1,!0));d.dispatcher.dispatchEvent(new BotanEvent("VisualUpdate"));this.ca(c)}};a.prototype.getMessage=function(){return this.c};
e[1](2,"INSERT",a)})();BotanJS.define("Components.Vim.Actions.FIND");
(function(){function a(a){this.a=a;this.c="";a.suppressEvent()}var e=K("Components.Vim.Actions"),k=L("System.Debug"),l=L("Components.Vim.Message"),g="";a.prototype.dispose=function(){this.a.unsuppressEvent()};a.prototype.handler=function(a,c){a.preventDefault();c&&(g=c);var d,b=g;d="";for(var e=b.length,h=1;h<e;h++)switch(b[h]){case "^I":d+="\t";break;case "\\":var q=b[++h];k.Error("Unknown escaped token: "+q);++h;default:d+=b[h]}b=null;try{b=new RegExp(d,"gm")}catch(x){k.Error(x)}d=b;b=this.a.feeder.content;
e=this.a;c=e.aPos;for(var r,s,q=[];null!==(h=d.exec(b));){s||(s=h.index);if(c<h.index){r=h.index;break}q.push(h.index)}if(a.kMap("N")){if(r=q[q.length-2],void 0==r)for(this.c=l("SEARCH_HIT_TOP");null!==(h=d.exec(b));)r=h.index}else void 0!=s&&void 0==r?(r=s,this.c=l("SEARCH_HIT_BOTTOM")):this.c=g.join("");void 0!=r&&e.moveTo(r)};a.prototype.getMessage=function(){return this.c};e[1](2,"FIND",a)})();BotanJS.define("Components.Vim.Cursor");
(function(){function a(a){this.feeder=a;this.cols=a.firstBuffer.cols;this.PStart=this.Y=this.X=this.pX=0;this.PEnd=1;this.rec=new g;this.action=null;this.blink=!0;this.pSpace=!1;this.C=this.U=0}function e(a,d){var b=a.f(),f=a.Y+d,h=a.Y;for(b!=a.feeder.firstBuffer&&h--;h<f&&!b.placeholder;b=b.nextLine)b.br&&h++;return h}var k=K("Components.Vim"),l=L("System.Debug"),g=L("Components.Vim.State.Recorder"),f=L("Components.Vim.Actions.*");a.prototype.Vim;a.prototype.moveTo=function(a,d){var b=this.feeder.content,
f=this.f(),h=f.lineNum;f.placeholder&&(this.Y=h=0);for(var g=0,e=0,k=b.indexOf("\n");0<=k&&!(a<=k);k=b.indexOf("\n",k))e=k,k++,g++;b=g-h;h=a<e?e-a:a-e;h+=Math.ceil(h/f.cols)-1;b&&this.moveY(b);0<this.f().lineNum&&e<=a&&h--;this.moveX(-Number.MAX_VALUE);this.moveX(h,!1,d)};a.prototype.moveX=function(a,d,b){var f=this.pX,h=Boolean(a);0<this.C&&(a+=this.C,this.C=0);h&&(f=this.X+a);a||(a=1);var g=this.feeder;if(d&&0>f&&(0<this.feeder.panY||0<this.Y))this.moveY(-1),this.lineEnd(b);else{var e=this.f(),
k=e.visualLines.join("\n");d=k.length;var l=0,t=!0;if(1<d){for(var w=e.lineNum-1,l=g.content,t=l.indexOf("\n"),A=0;0<=t&&w!=A;t=l.indexOf("\n",t),A++)t++;0==A&&-1==t&&(t=0);w=l.indexOf("\n",t+1);w=-1==w?l.length:w;l=(t=0<(w-t-1)%e.cols)?b?d-1:d-2:b?d:d-1}e=k[f];(d=void 0==e||d==f+1&&" "==e)?f=0<a?l:0:"\n"==e&&(f+=a);g.wrap&&d&&!t&&b&&(this.C=1);this.X=f;h&&(this.pX=f,this.updatePosition())}};a.prototype.lineStart=function(){this.pX=0;this.moveX();this.updatePosition()};a.prototype.lineEnd=function(a){this.moveX(Number.MAX_VALUE,
!1,a)};a.prototype.updatePosition=function(){var a=0,d=0,b=this.feeder.lineBuffers[0];a:for(;b&&d<this.Y;d++)for(;b;){if(b.next&&b.next.placeholder)break a;a+=b.toString().length+1;if((b=b.next)&&b.br)break}this.PStart=a=this.X+a+this.C;this.PEnd=a+1;this.W()};a.prototype.W=function(){0<this.U?l.Info("Event suppressed, suppression level is: "+this.U):this.feeder.dispatcher.dispatchEvent(new BotanEvent("VisualUpdate"))};a.prototype.moveY=function(a){var d=this.Y+a,b=this.feeder,f;if(0>d)b.pan(void 0,
d),this.Y=0,this.moveX(),this.updatePosition(),b.softReset();else if(!b.EOF&&b.moreAt<d){b=this.feeder;if(b.linesTotal<d){for(;!b.EOF;)b.pan(void 0,1);a=e(this,a)}else{f=b.lastBuffer.lineNum;var d=d-b.moreAt,h=this.f().lineNum;b.EOF||b.pan(void 0,d);for(d=h+a;!b.EOF&&(b.lastBuffer.lineNum==f||b.lastBuffer.lineNum<d);)b.pan(void 0,1);this.Y=0;for(f=this.f();f&&f.lineNum!=d&&!f.placeholder;this.Y++,f=this.f());a=this.Y;b.EOF||b.lastBuffer.next.lineNum!=f.lineNum||a--}this.Y=a;this.moveX();this.updatePosition();
b.softReset()}else{if(0<a){f=this.f();if(f.nextLine.placeholder)return;d=e(this,a)}this.Y=d;this.moveX();this.updatePosition()}};a.prototype.openAction=function(a){this.action&&this.action.dispose();l.Info("openAction: "+a);this.action=new f[a](this);this.t=null;this.W()};a.prototype.closeAction=function(){this.action&&(this.action.dispose(),this.t=this.action.getMessage(),this.action=null,l.Info("closeAction: "+this.t),this.Vim.contentAnalyzer.reset(),this.W())};a.prototype.openRunAction=function(a,
d,b){a=new f[a](this);a.handler(d,b);this.t=a.getMessage();a.dispose();this.Vim.contentAnalyzer.reset();this.W()};a.prototype.suppressEvent=function(){++this.U};a.prototype.unsuppressEvent=function(){--this.U};a.prototype.f=function(){for(var a=this.feeder,d=a.firstBuffer,a=a.lastBuffer.next,b=0;d!=a;d=d.next)if(d.br&&b++,this.Y==b)return d;return null};n(a.prototype,"aX",function(){var a=this.X,d=1;if(this.feeder.wrap){var b=this.f().visualLines,f;for(f in b){var h=b[f],e=h.content.toString().length,
h=h.toString().length,a=a-(h+1);if(0<=a)d+=e;else if(0>a){d+=a+h;break}}}return d});n(a.prototype,"aPos",function(){var a=this.feeder,d=this.f().lineNum,b=0;if(0<d){b=a.content.indexOf("\n");for(i=1;-1!=b&&i<d;i++)b=a.content.indexOf("\n",b+1);a.wrap&&b++}return b+=this.aX});n(a.prototype,"face",function(){return"\u2588"});n(a.prototype,"message",function(){if(this.t){var a=this.t;this.t=null;return a}return this.action&&this.action.getMessage()});n(a.prototype,"position",function(){return{start:this.PStart,
end:this.PEnd}});k[1](2,"Cursor",a)})();BotanJS.define("Components.Vim.LineFeeder");
(function(){function a(a,c){var d=[];d[a]=new k(c);for(var b=a-1;0<=b;b--)d[b]=new k(c,d[b+1]);this.lineBuffers=d;this.panY=this.panX=0;this.wrap=!0;this.setRender();this.cursor=new l(this);this.dispatcher=new C;this.A=null;this.Q=-1;this.F=a}var e=K("Components.Vim");L("System.Debug");var k=e[0]("LineBuffer"),l=e[0]("Cursor"),g=L("System.utils.Perf.CountSubstr");a.prototype.init=function(a,c){this.content=a;this.setWrap(c);this.firstBuffer.K(a,this.wrap,0)};a.prototype.setWrap=function(a){void 0!=
a&&(this.wrap=a)};a.prototype.setRender=function(a){void 0==a&&(a=!0);var c=this,d=a?function(){return!0}:function(a){return!a.placeholder};this.Ka=function(a,f){for(var h=(void 0==a?"":a)+"",e=!1,g=0;a&&g<f&&(a=a.next)&&d(a);g++)e||a.br&&f<g+a.visualLines.length?(e||(c.A=a),e=!0,h+="\n@"):h+="\n"+a;return h};this.La=function(){for(var a=c.lineBuffers[c.Ja],f=c.ua+1,h=0;a&&h<f&&(a=a.next)&&d(a);h++)if(a.br&&f<h+a.visualLines.length){c.A=a;break}}};a.prototype.render=function(a,c){var d=this.lineBuffers;
if(void 0==a)a=0;else if(this.F<a)return"";if(void 0==c||this.F-a<c)c=this.rows-a;if(0==c)return"";this.Ja=a;this.ua=c-1;return this.Ka(d[a],this.ua)};a.prototype.pan=function(a,c){void 0==a&&(a=0);void 0==c&&(c=0);var d=this.panX+a,b=this.panY+c,e=-1,h=0;0>b&&(b=0);var g=this.content.slice(0,-1);if(0<b)for(e=g.indexOf("\n"),h=1;-1!=e&&h<b;h++){var k=g.indexOf("\n",e+1);if(-1==k){b=h;break}e=k}this.firstBuffer.K(this.content.substr(e+1),this.wrap,h);this.panX=d;this.panY=b};a.prototype.softReset=
function(){this.Q=-1;this.A=null;this.La()};n(a.prototype,"linesTotal",function(){return g(this.content,"\n")});n(a.prototype,"firstBuffer",function(){return this.lineBuffers[0]});n(a.prototype,"lastBuffer",function(){return this.lineBuffers[this.F-1]});n(a.prototype,"EOF",function(){return this.lineBuffers[this.F].placeholder});n(a.prototype,"moreAt",function(){if(0<this.Q)return this.Q;var a=this.firstBuffer;if(a.placeholder)return 0;var c=0;do{if(this.A==a)break;a.br&&c++}while(a=a.next);void 0==
a&&c--;return this.Q=c});n(a.prototype,"lineStat",function(){var a=this.cursor.aX+1,c=this.cursor.f(),d="",b=c.content.match(/\t/g);b&&(d="-"+(a+b.length*c.tabWidth));return c.lineNum+1+","+a+d});n(a.prototype,"docPos",function(){var a="ALL";if(0<this.panY)a=this.EOF?"BOTTOM":Math.floor(this.panY/(this.linesTotal-(this.F-1))*100)+"%";else if(this.A||!this.EOF)a="TOP";return a});n(a.prototype,"linesOccupied",function(){var a=this.firstBuffer;if(a.placeholder)return 0;var c=0;do c++;while((a=a.next)&&
!a.placeholder);return c});e[1](2,"LineFeeder",a)})();BotanJS.define("Components.Vim.StatusBar");
(function(){function a(a){this.cols=a;this.fa={};this.override=null}var e=K("Components.Vim");L("System.Debug");e[0]("LineFeeder");a.prototype.stamp=function(a,e){this.fa[a]=e};a.prototype.override;n(a.prototype,"statusText",function(){if(this.override)return this.override();for(var a="",e=this.cols,g=0;g<e;g++){var f=e-g,c=this.fa[g]||this.fa[-f];c?(c=c(),void 0!=c&&""!==c&&(a+=c.substr(0,f),g=a.length)):a+=" "}return a});e[1](2,"StatusBar",a)})();BotanJS.define("Components.Vim.State.History");
(function(){function a(a){g[a]||(g[a]=[]);this.o=g[a];this.reset()}function e(a,c){var d=c.length;if(a.length<d)return!1;for(var b=0;b<d;b++)if(a[b]!=c[b])return!1;return!0}var k=K("Components.Vim.State"),l=L("System.Debug"),g={};a.prototype.push=function(a){var c;if(c=this.o.length)a:{c=this.o[this.o.length-1];for(var d=c.length<a.length?a.length:c.length,b=0;b<d;b++)if(c[b]!=a[b]){c=!1;break a}c=!0}c?l.Info("This is the previous command, skipping"):this.o.push(a)};a.prototype.prev=function(a){for(this.o.length<=
this.e&&this.reset();-1<this.e;){var c=this.o[this.e--];if(c&&e(c,a))return c.slice()}return null};a.prototype.next=function(a){0>this.e&&(this.e++,this.next(a));for(;this.e<this.o.length;){var c=this.o[this.e++];if(c&&e(c,a))return c.slice()}return null};a.prototype.reset=function(){this.e=this.o.length-1};k[1](2,"History",a)})();BotanJS.define("Components.Vim.Ex.Command");
(function(){function a(a,b){var e=this;if(!c[b])throw Error("Unsupport mode: "+b);this.a=a;this.za=a.Vim.statusBar;this.Ha=b;this.O=new g(c[b]);this.d=[];this.m=null;this.ga="ExCommandBlinkCycle"+l.uuid;this.h=0;var h=a.feeder,f=!1,x=!1;this.v=function(){x=f=!0};k.perma(this.ga,function(){x?x=!1:f=!f;h.dispatcher.dispatchEvent(new BotanEvent("VisualUpdate"))},600);this.Ga=function(){for(var b="",c=e.d,h=e.h,g=c.length,k=0;k<g;k++){var l=c[k];f&&k==h&&(face=!0,l=a.face+l.substr(1));b+=l}f&&g<=h&&(b+=
a.face);return b};this.za.override=this.Ga}var e=K("Components.Vim.Ex"),k=L("System.Cycle");L("System.Debug");var l=L("System.utils.Perf"),g=L("Components.Vim.State.History");L("Components.Vim.Message");var f=L("Components.Vim.Beep"),c={"/":l.uuid,":":l.uuid};a.prototype.dispose=function(){this.za.override=null;k.permaRemove(this.ga);this.a.feeder.dispatcher.dispatchEvent(new BotanEvent("VisualUpdate"))};a.prototype.handler=function(a){a.preventDefault();if(!a.ModKeys){this.v();var b=null,c=!1;if(a.kMap("Tab"))b=
"^I";else if(!a.kMap("C-v"))if(a.kMap("BS")){if(1==this.h&&1<this.d.length)return!1;this.d.splice(--this.h,1);if(0==this.d.length)return a.cancel(),!0}else if(a.kMap("Del"))this.d.splice(this.h,1);else{if(a.kMap("Enter"))return this.Ia(a),!0;if(a.kMap("Left"))1<this.h&&this.h--;else if(a.kMap("Right"))this.h<this.d.length&&this.h++;else if(c=a.kMap("Up")){this.m||(this.m=this.d);var h=this.O.prev(this.m);h?(this.d=h,this.h=h.length):f()}else(c=a.kMap("Down"))?(h=this.O.next(this.m))?(this.d=h,this.h=
h.length):this.m?(this.d=this.m,this.m=null):f():b=a.key}null!=b&&this.d.splice(this.h++,0,b);c||(this.O.reset(),this.m&&(this.m=this.d));a.cancel();this.a.feeder.dispatcher.dispatchEvent(new BotanEvent("VisualUpdate"))}};a.prototype.Ia=function(a){this.O.push(this.d);var b="";switch(this.Ha){case "/":b="FIND"}var c=this.a;c.suppressEvent();this.a.openRunAction(b,a,this.d.slice());c.unsuppressEvent()};e[1](2,"Command",a)})();BotanJS.define("Components.Vim.Controls");
(function(){function a(a,b){this.Ra=a;this.ia=!1;if("string"==typeof b)this.oa=b,this.qa=0,this.P=k(b),this.la=27==this.P;else{this.aa=b;var c=this.aa.keyCode;this.la=27==c||b.ctrlKey&&67==c;this.P=c+(b.shiftKey||b.getModifierState("CapsLock")?512:0)+(b.ctrlKey?1024:0)+(b.altKey?2048:0);this.qa=16==c||17==c||18==c;this.oa=b.key}this.D=null}function e(a){this.Ba=a;this.ja=a.contentFeeder;this.w=this.ja.cursor;this.n=null}function k(a){if(c[a])return c[a];var b=a.split("-"),e=b[0],h=0;if(2==b.length){var f=
!0;switch(b[0]){case "C":h=1024;break;case "A":h=2048;break;case "S":h=512;break;default:f=!1}f&&(e=b[1])}switch(e){case "BS":b=h+8;break;case "Del":b=h+46;break;case "Enter":b=h+13;break;case "Tab":b=h+9;break;case "Up":b=h+38;break;case "Down":b=h+40;break;case "Left":b=h+37;break;case "Right":b=h+39;break;case "A":h=512;case "a":b=h+65;break;case "B":h=512;case "b":b=h+66;break;case "C":h=512;case "c":b=h+67;break;case "D":h=512;case "d":b=h+68;break;case "E":h=512;case "e":b=h+69;break;case "F":h=
512;case "f":b=h+70;break;case "G":h=512;case "g":b=h+71;break;case "H":h=512;case "h":b=h+72;break;case "I":h=512;case "i":b=h+73;break;case "J":h=512;case "j":b=h+74;break;case "K":h=512;case "k":b=h+75;break;case "L":h=512;case "l":b=h+76;break;case "M":h=512;case "m":b=h+77;break;case "N":h=512;case "n":b=h+78;break;case "O":h=512;case "o":b=h+79;break;case "P":h=512;case "p":b=h+80;break;case "Q":h=512;case "q":b=h+81;break;case "R":h=512;case "r":b=h+82;break;case "S":h=512;case "s":b=h+83;
break;case "T":h=512;case "t":b=h+84;break;case "U":h=512;case "u":b=h+85;break;case "V":h=512;case "v":b=h+86;break;case "W":h=512;case "w":b=h+87;break;case "X":h=512;case "x":b=h+88;break;case "Y":h=512;case "y":b=h+89;break;case "Z":h=512;case "z":b=h+90;break;case "!":h=512;case "1":b=h+49;break;case "@":h=512;case "2":b=h+50;break;case "#":h=512;case "3":b=h+51;break;case "$":h=512;case "4":b=h+52;break;case "%":h=512;case "5":b=h+53;break;case "^":h=512;case "6":b=h+54;break;case "&":h=512;
case "7":b=h+55;break;case "*":h=512;case "8":b=h+56;break;case "(":h=512;case "9":b=h+57;break;case ")":h=512;case "0":b=h+48;break;case "<":h=512;case ",":b=h+188;break;case ">":h=512;case ".":b=h+190;break;default:throw Error("Unsupport keys: "+a);}return c[a]=b}var l=K("Components.Vim");L("System.Debug");var g=L("Components.Vim.Ex.Command"),f=l[0]("Beep"),c={};e.prototype.l=function(a,b){if(b)this.g||(this.g=[]),this.g.push({keys:Array.prototype.slice.call(arguments,2),handler:b,Ca:0});else{for(var c=
a.keyCode,e=0;e<this.g.length;e++){var g=this.g[e],k=g.keys;if(k[g.Ca++]==c){g.Ca==k.length&&(g.handler(a),this.g=null,this.p=!1);return}}this.g&&f();this.g=null;this.p=!1}};e.prototype.Fa=function(c){var b=this.w;switch(c.keyCode){case 577:b.lineEnd();case 65:b.moveX(1,!0,!0);case 73:b.openAction("INSERT");break;case 591:b.lineStart();b.openAction("INSERT");b.action.handler(new a(c.Wa,"Enter"));b.moveY(-1);break;case 79:b.lineEnd(!0);b.openAction("INSERT");b.action.handler(new a(c.Wa,"Enter"));break;
case 85:b.openRunAction("UNDO",c);break;case 1106:b.openRunAction("REDO",c);break;case 68:b.openAction("DELETE");break;case 89:b.openAction("YANK");break;case 80:b.suppressEvent(),b.moveX(1,!1,!0),b.unsuppressEvent();case 592:b.openRunAction("PUT",c);break;case 600:if(!this.L(-1))break;case 88:if(""==b.f().content){f();break}b.openRunAction("DELETE",c,b.aPos);break;case 86:b.openAction("VISUAL");break;case 598:b.openAction("VISUAL_LINE")}};e.prototype.L=function(a,b){var c=this.w,e=c.X;c.moveX(a,
b,c.pSpace);return c.X==e?(f(),!1):!0};e.prototype.ha=function(a){var b=this.w,c=this.ja,e=b.Y+c.panY;b.moveY(a);e!=b.Y+c.panY||0<a&&!c.EOF||f()};e.prototype.ka=function(a){var b=a.keyCode;if(this.p&&!a.ModKeys)return this.l(a),!0;var c=this.w,e=c.feeder,k=!0;switch(b){case 8:this.L(-1,!0);break;case 72:this.L(-1);break;case 76:this.L(1);break;case 75:this.ha(-1);break;case 74:this.ha(1);break;case 1094:if(e.firstBuffer.nextLine.placeholder){f();break}e.pan(void 0,e.moreAt);e.softReset();c.moveY(-c.Y);
break;case 1090:if(0==e.panY){f();break}e.pan(void 0,-e.moreAt);e.softReset();c.moveY(-c.Y);e.EOF||c.moveY(e.moreAt);break;case 584:break;case 588:break;case 566:c.lineStart();break;case 564:c.lineEnd(c.pSpace);break;case 583:c.moveY(Number.MAX_VALUE);c.moveX(Number.MAX_VALUE,!0);break;case 565:var l=this.Ba.contentAnalyzer,b=l.bracketAt(c.aPos);if(-1==b.open){f();break}c.moveTo(b.selected==b.close?b.open:b.close);break;case 84:break;case 73:if(!c.action){k=!1;break}l=this.Ba.contentAnalyzer;this.p=
!0;this.l(a,function(a){var b=l.wordAt(c.aPos);a.D=b},87);var b=function(a){var b=l.bracketIn("(",c.aPos);a.D=b},e=function(a){var b=l.bracketIn("{",c.aPos);a.D=b},r=function(a){var b=l.bracketIn("[",c.aPos);a.D=b};this.l(a,b,560);this.l(a,b,569);this.l(a,r,219);this.l(a,r,221);this.l(a,e,731);this.l(a,e,733);break;case 71:this.p=!0;this.l(a,function(){c.moveY(-Number.MAX_VALUE);c.moveX(-Number.MAX_VALUE,!0)},71);this.l(a,function(){c.openRunAction("PRINT_HEX",a)},56);break;case 590:case 78:c.openRunAction("FIND",
a);break;case 191:this.p=!0;this.n=new g(c,"/");this.n.handler(a);break;default:k=!1}return k};e.prototype.handler=function(a,b){if(!(2116==b.keyCode||112<b.keyCode&&123>=b.keyCode)){if(b.Escape){var c=!1;this.p=!1;this.g?(c=!0,this.g=null):this.n&&(c=!0,this.n.dispose(),this.n=null);if(c){f();return}}if(this.n&&(this.n.handler(b)&&(this.n.dispose(),this.p=!1,this.n=null),b.canceled))return;c=this.w;if(c.action)if(b.Escape)b.preventDefault(),c.closeAction();else{if(c.action.allowMovement){var e=!this.g;
this.ka(b);if(e&&this.g){b.preventDefault();return}}c.action.handler(b)&&c.closeAction()}else b.preventDefault(),this.ka(b)||this.Fa(b)}};a.prototype.cancel=function(){this.ia=!0};n(a.prototype,"target",function(){return this.Ra});n(a.prototype,"key",function(){return this.oa});n(a.prototype,"keyCode",function(){return this.P});n(a.prototype,"ModKeys",function(){return this.qa});n(a.prototype,"Escape",function(){return this.la});n(a.prototype,"canceled",function(){return this.ia});n(a.prototype,"range",
function(){var a=this.D;return a&&-1==a.open&&-1==a.close?null:a});a.prototype.kMap=function(a){return this.P==k(a)};a.prototype.preventDefault=function(){this.aa&&this.aa.preventDefault()};l[1](2,"Controls",e);l[1](2,"InputEvent",a)})();BotanJS.define("Components.Vim.VimArea");
(function(){function a(a){if(a){var b=a.element;if("TEXTAREA"!=b.nodeName)f.Error("Element is not compatible for VimArea");else{a.setAttribute(new l("vimarea",1));this.stage=a;this.rows=b.rows;this.cols=b.cols;this.$=!1;var c=this;a.addEventListener("Focus",function(){c.$=!0});a.addEventListener("Blur",function(){c.$=!1});this.Da(b.value);r.push(this)}}}function e(a,b){return function(c){c=c||window.event;c.keyCode?code=c.keyCode:c.which&&(code=c.which);b(a,new q(a,c))}}var k=K("Components.Vim");
L("Dandelion.IDOMElement");var l=L("System.utils.DataKey"),g=L("System.Cycle"),f=L("System.Debug"),c=L("Components.Vim.State.Registers"),d=L("Components.Vim.Syntax.Analyzer"),b=k[0]("LineFeeder"),u=k[0]("StatusBar"),h=k[0]("Controls"),q=k[0]("InputEvent"),x=k[0]("Message"),r=[];a.prototype.select=function(a){if(this.$){var b=this.stage.element;a&&(b.selectionStart=a.start,b.selectionEnd=a.end)}};a.prototype.Da=function(a){function f(){B.init(D.statusText);var a=B.linesOccupied;l.value=v.render(0,
q-a)+"\n"+B.render(0,a<q?a:q);k.v=!1;k.select(v.cursor.position)}var k=this,l=this.stage.element,q=this.rows,r=this.cols,v=new b(q-1,r),M=new d(v);v.init(a+"\n");var B=new b(q,r);B.setRender(!1);v.cursor.Vim=this;B.cursor.Vim=this;var D=new u(r);D.stamp(-18,function(){return v.lineStat});D.stamp(-3,function(){return x(v.docPos)});D.stamp(0,function(){return v.cursor.message});B.init(D.statusText);v.dispatcher.addEventListener("VisualUpdate",f);f();this.contentFeeder=v;this.contentAnalyzer=M;this.statusFeeder=
B;this.statusBar=D;this.ea=new c;this.a=v.cursor;this.v=!0;g.perma("VimCursorBlinkCycle"+l.id,function(){k.select(!k.a.blink||(k.v=!k.v)?k.a.position:{start:0,end:0})},600);a=new h(this);this.stage.addEventListener("KeyDown",e(this,a.handler.bind(a)))};n(a,"Instances",function(){return r.slice()});n(a.prototype,"content",function(){return this.contentFeeder.content.slice(0,-1)});k[1](2,"VimArea",a)})();})();
